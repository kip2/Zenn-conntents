---
title: "remã¨modã«ã¤ã„ã¦ã®è‡ªç”±ç ”ç©¶"
emoji: "ğŸ‘»"
type: "tech"
topics: []
published: false
---

# æ¦‚è¦

Clojureã‚’å…¥é–€ã—ã¦ã„ã‚‹ã¨ãã«ã€remã¨modã®é•ã„ãŒæ°—ã«ãªã£ãŸã®ã§èª¿ã¹ã¦ã¿ãŸã€‚

## çµŒç·¯

Clojureå­¦ç¿’ä¸­ã«ã€ã‚ã¾ã‚Šã®è¨ˆç®—ç”¨ã®é–¢æ•°ãŒ2ã¤ã‚ã‚‹ã¨èãã€å®Ÿéš›ã«ä½¿ã£ã¦ã¿ãŸã€‚

ã™ã‚‹ã¨ã€ãªã‚“ã¨çµæœãŒå…¨ç„¶é•ã†ã§ã¯ãªã„ã‹ã€‚

```clojure
;; modã®å ´åˆ
(mod 10 3)
;; 1
(mod -10 3)
;; 2
(mod 10 -3)
;; -2

;; remã®å ´åˆ
(rem 10 3)
;; 1
(rem -10 3)
;; -1
(rem 10 -3)
;; 1
```

remã¯ã‚ã‹ã‚‹ã€‚
ä½™ã‚ŠãŒ1ã§è¢«é™¤æ•°ã®ç¬¦å·ã«æƒãˆã‚‹ã¨ã„ã†ã“ã¨ã§ç†è§£ãŒã§ããŸã€‚

ã—ã‹ã—ã€ãªãœmodã ã¨2ã¨ã„ã†æ•°å­—ãŒå‡ºã¦ãã‚‹ã®ã ã‚ã†ã‹ã€‚
ä¸æ€è­°ã§ãªã‚‰ãªã„ã€‚

## rem

https://clojuredocs.org/clojure.core/rem

## modãŒæ­£ã—ã„ï¼Ÿ

ã“ã®è¨˜äº‹ã‚’èª­ã‚€é™ã‚Šã€modã®æ–¹ãŒæ­£ã—ãã†ã«è¦‹ãˆã‚‹ã€‚

https://naop.jp/2021/05/29/hunoamari/


## modã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰

modã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã«remãŒä½¿ç”¨ã•ã‚Œã¦ã‚‹ã¨èã„ãŸã®ã§ã€èª¿æŸ»ã€‚
sourceé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦modã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹ã€‚

```clojure
(source mod)
; (defn mod
;   "Modulus of num and div. Truncates toward negative infinity."
;   {:added "1.0"
;    :static true}
;   [num div] 
;   (let [m (rem num div)] 
;     (if (or (zero? m) (= (pos? num) (pos? div)))
;       m 
;       (+ m div))))
```

è‚ã¯ä»¥ä¸‹ã®éƒ¨åˆ†ã ã¨æ€ã†ã€‚

```clojure
;     (if (or (zero? m) (= (pos? num) (pos? div)))
;       m 
;       (+ m div))))
```

mãŒ0ã€ã‚ã‚‹ã„ã¯numã¨divã®ç¬¦å·ãŒä¸€è‡´ã™ã‚‹å ´åˆã¯ã€mã‚’ãã®ã¾ã¾è¿”ã—ã¦ã„ã‚‹ã€‚
ã¤ã¾ã‚Šã€

- numãŒ+ã€divãŒ+
- numãŒ-ã€divãŒ-
- mãŒ0

ã®å ´åˆã¯ãã®ã¾ã¾è¿”ã™ï¼ˆã¡ãªã¿ã«çŸ­çµ¡è©•ä¾¡ã§ã‚ã‚‹ï¼‰ã€‚

+ã®å ´åˆã¯ã„ã„ãŒã€-åŒå£«ã®å ´åˆã¯ã©ã†ã ã‚ã†ã‹ã€‚

```clojure
(rem -10 -3)
;; -1
```

ãã—ã¦ã€ãã‚Œä»¥å¤–ã®ã°ã‚ã„ã¯ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãŒè©²å½“ã™ã‚‹ã€‚

```clojure
;       (+ m div))))
```

mã«divã‚’è¶³ã—ã¦ã„ã‚‹ã€‚
ã¤ã¾ã‚Šã€è€ƒãˆã‚‰ã‚Œã‚‹ã‚±ãƒ¼ã‚¹ã¯ã€

- numãŒ-ã§ã€divãŒ+
- numãŒ+ã§ã€divãŒ-

ã®2é€šã‚Šã€‚

å…·ä½“ä¾‹ã§æ›¸ãã¨

```clojure
;; numãŒ-ã§ã€divãŒ+
(rem -10 3)
;; -1

;; numãŒ+ã§ã€divãŒ-
(rem 10 -3)
;; 1
```

ã“ã‚Œã‚‰ã®è¨ˆç®—çµæœã«divã‚’è¶³ã™ã®ã§ã€ãã‚Œãã‚Œä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚

```clojure
(+ -1 3)
;; 2

(+ 1 -3)
;; -2
```

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯èª­ã¿è§£ã‘ãŸãŒã€ãªãœã“ã®ã‚ˆã†ã«ã™ã‚‹ã‹ã¯è¬ã®ã¾ã¾ã€‚

## modã®æŒ™å‹•ã«ã¤ã„ã¦

æ•°å­¦ã®ãƒ¢ã‚¸ãƒ¥ãƒ­æ¼”ç®—ã«åŸºã¥ã„ã¦ã„ã‚‹ã‚‰ã—ã„ã€‚
https://stackoverflow.com/questions/37210994/difference-between-mod-and-rem-in-clojure

## åˆ‡ã‚Šæ¨ã¦

åˆ‡ã‚Šæ¨ã¦ã¨ã„ã†è¨€è‘‰ã®æ„å‘³ã«ã¤ã„ã¦ã€‚
wikipediaã«ã‚ˆã‚‹ã¨ä»¥ä¸‹ã®å®šç¾©ã¨ãªã£ã¦ã„ã‚‹ã€‚

> æ•´æ•°éƒ¨åˆ†ã‚’ãã®ã¾ã¾æ®‹ã—ã€å°æ•°ç‚¹ä»¥ä¸‹ã‚’0ã¨ã™ã‚‹ä¸¸ã‚ã‚’ã€Œåˆ‡ã‚Šæ¨ã¦ã€ã¨ã„ã†ã€‚ãã‚Œã«å¯¾ã—ã€å°æ•°ç‚¹ä»¥ä¸‹ãŒ0ã§ãªã‹ã£ãŸå ´åˆæ•´æ•°éƒ¨åˆ†ã‚’1å¢—ã‚„ã—ã€å°æ•°ç‚¹ä»¥ä¸‹ã‚’0ã¨ã™ã‚‹ä¸¸ã‚ã‚’ã€Œåˆ‡ã‚Šä¸Šã’ã€ã¨ã„ã†ã€‚
 
https://ja.wikipedia.org/wiki/%E7%AB%AF%E6%95%B0%E5%87%A6%E7%90%86


## ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ãŠã‘ã‚‹å‰°ä½™æ¼”ç®—

wikiã«è¡¨ãŒã‚ã£ãŸã€‚

https://ja.wikipedia.org/wiki/%E5%89%B0%E4%BD%99%E6%BC%94%E7%AE%97

## ã©ã®ã‚ˆã†ã«ä¸¸ã‚ãŒç”Ÿã˜ã¦ã„ã‚‹ã‹

ä»¥ä¸‹ã®è¨˜äº‹ã«é™¤ç®—ã®ä¸¸ã‚ã«ã¤ã„ã¦è¡¨ãŒã¾ã¨ã¾ã£ã¦ã„ãŸï¼ˆå‰°ä½™ç®—ã§ã¯ãªã„ï¼‰ã€‚

https://jp.mathworks.com/help/simulink/gui/signed-integer-division-rounds-to.html

## å‚è€ƒè¨˜äº‹
https://qiita.com/suzuki-navi/items/72fcb1fbf05008cbe8b4
https://qiita.com/nanbuwks/items/7c6fa3db41a2324925c2
https://wonderhorn.net/programming/negativeremainder.html